{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TransactionDetailPage=()=>{const{id}=useParams();const{userId}=useAuth();const[transaction,setTransaction]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{const fetchTransaction=async()=>{setLoading(true);setError('');try{const response=await axios.get(\"http://localhost:5000/transactions/\".concat(id));const fetchedTx=response.data;// Proveri da li je transakcija vezana za trenutnog korisnika\nif(fetchedTx.senderId===userId||fetchedTx.receiverId===userId){setTransaction(fetchedTx);}else{setError(\"Nemate pristup ovoj transakciji.\");}}catch(err){console.error(\"Greška pri učitavanju transakcije:\",err);setError(\"Transakcija nije pronađena ili je došlo do greške.\");}finally{setLoading(false);}};fetchTransaction();},[id,userId]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-lg mt-8\",children:\"U\\u010Ditavanje detalja transakcije...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-red-500 text-lg mt-8\",children:error});}if(!transaction){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-lg mt-8\",children:\"Transakcija nije prona\\u0111ena.\"});}const isSender=transaction.senderId===userId;const type=isSender?'Poslato':'Primljeno';const typeColor=isSender?'text-red-600':'text-green-600';return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-lg w-full max-w-2xl mx-auto mt-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-800 mb-6 text-center\",children:\"Detalji Transakcije\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 text-lg\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID Transakcije:\"}),\" \",transaction.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tip:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:typeColor,children:type})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Iznos:\"}),\" \",transaction.amount,\" \",transaction.currency]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Po\\u0161iljalac:\"}),\" \",transaction.senderId]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Primalac:\"}),\" \",transaction.receiverId]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Datum:\"}),\" \",new Date(transaction.date).toLocaleString()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 text-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300\",children:\"Nazad na Dashboard\"})})]});};export default TransactionDetailPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","axios","useAuth","jsx","_jsx","jsxs","_jsxs","TransactionDetailPage","id","userId","transaction","setTransaction","loading","setLoading","error","setError","fetchTransaction","response","get","concat","fetchedTx","data","senderId","receiverId","err","console","className","children","isSender","type","typeColor","amount","currency","Date","date","toLocaleString","to"],"sources":["C:/Users/HP/Desktop/IT354 Veb Sistemi1/crypto-wallet-app/src/pages/TransactionDetailPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst TransactionDetailPage = () => {\r\n  const { id } = useParams();\r\n  const { userId } = useAuth();\r\n  const [transaction, setTransaction] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchTransaction = async () => {\r\n      setLoading(true);\r\n      setError('');\r\n      try {\r\n        const response = await axios.get(`http://localhost:5000/transactions/${id}`);\r\n        const fetchedTx = response.data;\r\n\r\n        // Proveri da li je transakcija vezana za trenutnog korisnika\r\n        if (fetchedTx.senderId === userId || fetchedTx.receiverId === userId) {\r\n          setTransaction(fetchedTx);\r\n        } else {\r\n          setError(\"Nemate pristup ovoj transakciji.\");\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Greška pri učitavanju transakcije:\", err);\r\n        setError(\"Transakcija nije pronađena ili je došlo do greške.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchTransaction();\r\n  }, [id, userId]);\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center text-lg mt-8\">Učitavanje detalja transakcije...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"text-center text-red-500 text-lg mt-8\">{error}</div>;\r\n  }\r\n\r\n  if (!transaction) {\r\n    return <div className=\"text-center text-lg mt-8\">Transakcija nije pronađena.</div>;\r\n  }\r\n\r\n  const isSender = transaction.senderId === userId;\r\n  const type = isSender ? 'Poslato' : 'Primljeno';\r\n  const typeColor = isSender ? 'text-red-600' : 'text-green-600';\r\n\r\n  return (\r\n    <div className=\"bg-white p-8 rounded-lg shadow-lg w-full max-w-2xl mx-auto mt-8\">\r\n      <h2 className=\"text-3xl font-bold text-gray-800 mb-6 text-center\">Detalji Transakcije</h2>\r\n      <div className=\"space-y-4 text-lg\">\r\n        <p><strong>ID Transakcije:</strong> {transaction.id}</p>\r\n        <p><strong>Tip:</strong> <span className={typeColor}>{type}</span></p>\r\n        <p><strong>Iznos:</strong> {transaction.amount} {transaction.currency}</p>\r\n        <p><strong>Pošiljalac:</strong> {transaction.senderId}</p>\r\n        <p><strong>Primalac:</strong> {transaction.receiverId}</p>\r\n        <p><strong>Datum:</strong> {new Date(transaction.date).toLocaleString()}</p>\r\n      </div>\r\n      <div className=\"mt-8 text-center\">\r\n        <Link to=\"/dashboard\" className=\"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300\">\r\n          Nazad na Dashboard\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionDetailPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}