{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Desktop/IT354 Veb Sistemi1/crypto-wallet-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import axios from'axios';// Simulacija fluktuacije cena za posebnu funkcionalnost\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const simulatePriceChange=originalPrice=>{const changePercentage=(Math.random()-0.5)*0.05;// +/- 5% fluktuacije\nreturn originalPrice*(1+changePercentage);};const WalletOverview=_ref=>{let{wallet,allCryptos}=_ref;const[cryptoPrices,setCryptoPrices]=useState({});// {symbol: currentPriceUSD}\nuseEffect(()=>{// Inicijalno učitavanje cena\nconst initialPrices={};allCryptos.forEach(crypto=>{initialPrices[crypto.symbol]=crypto.currentPriceUSD;});setCryptoPrices(initialPrices);// Simulacija real-time ažuriranja cena\nconst interval=setInterval(()=>{setCryptoPrices(prevPrices=>{const newPrices=_objectSpread({},prevPrices);allCryptos.forEach(crypto=>{// Ažurira na osnovu *originalne* cene iz db.json da ne bi odlutale previše\nconst originalCrypto=allCryptos.find(c=>c.symbol===crypto.symbol);if(originalCrypto){newPrices[crypto.symbol]=simulatePriceChange(originalCrypto.currentPriceUSD);}});return newPrices;});},5000);// Ažuriraj svakih 5 sekundi\nreturn()=>clearInterval(interval);// Čisti interval\n},[allCryptos]);// Ponovo pokreni ako se promeni lista kriptovaluta\nconst totalValueUSD=Object.keys(wallet.balances).reduce((sum,symbol)=>{const balance=wallet.balances[symbol];const price=cryptoPrices[symbol]||0;// Koristi simuliranu cenu\nreturn sum+balance*price;},0);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-xl mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-4\",children:\"Pregled Nov\\u010Danika\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Ukupna vrednost:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-4xl font-extrabold text-green-700\",children:[\"$\",totalValueUSD.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-3\",children:\"Stanje po Kriptovalutama:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:Object.keys(wallet.balances).length>0?Object.keys(wallet.balances).map(symbol=>{const balance=wallet.balances[symbol];const price=cryptoPrices[symbol]||0;const value=balance*price;return/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between items-center p-2 border-b border-gray-100 last:border-b-0\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-700\",children:[symbol,\": \",/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600\",children:balance.toFixed(4)})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[\"($\",price.toFixed(2),\"/jedinica) \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-gray-800\",children:[\"$\",value.toFixed(2)]})]})]},symbol);}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Va\\u0161 nov\\u010Danik je prazan.\"})})]});};export default WalletOverview;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","simulatePriceChange","originalPrice","changePercentage","Math","random","WalletOverview","_ref","wallet","allCryptos","cryptoPrices","setCryptoPrices","initialPrices","forEach","crypto","symbol","currentPriceUSD","interval","setInterval","prevPrices","newPrices","_objectSpread","originalCrypto","find","c","clearInterval","totalValueUSD","Object","keys","balances","reduce","sum","balance","price","className","children","toFixed","length","map","value"],"sources":["C:/Users/HP/Desktop/IT354 Veb Sistemi1/crypto-wallet-app/src/components/WalletOverview.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\n// Simulacija fluktuacije cena za posebnu funkcionalnost\r\nconst simulatePriceChange = (originalPrice) => {\r\n    const changePercentage = (Math.random() - 0.5) * 0.05; // +/- 5% fluktuacije\r\n    return originalPrice * (1 + changePercentage);\r\n};\r\n\r\nconst WalletOverview = ({ wallet, allCryptos }) => {\r\n    const [cryptoPrices, setCryptoPrices] = useState({}); // {symbol: currentPriceUSD}\r\n\r\n    useEffect(() => {\r\n        // Inicijalno učitavanje cena\r\n        const initialPrices = {};\r\n        allCryptos.forEach(crypto => {\r\n            initialPrices[crypto.symbol] = crypto.currentPriceUSD;\r\n        });\r\n        setCryptoPrices(initialPrices);\r\n\r\n        // Simulacija real-time ažuriranja cena\r\n        const interval = setInterval(() => {\r\n            setCryptoPrices(prevPrices => {\r\n                const newPrices = { ...prevPrices };\r\n                allCryptos.forEach(crypto => {\r\n                    // Ažurira na osnovu *originalne* cene iz db.json da ne bi odlutale previše\r\n                    const originalCrypto = allCryptos.find(c => c.symbol === crypto.symbol);\r\n                    if (originalCrypto) {\r\n                        newPrices[crypto.symbol] = simulatePriceChange(originalCrypto.currentPriceUSD); \r\n                    }\r\n                });\r\n                return newPrices;\r\n            });\r\n        }, 5000); // Ažuriraj svakih 5 sekundi\r\n\r\n        return () => clearInterval(interval); // Čisti interval\r\n    }, [allCryptos]); // Ponovo pokreni ako se promeni lista kriptovaluta\r\n\r\n    const totalValueUSD = Object.keys(wallet.balances).reduce((sum, symbol) => {\r\n        const balance = wallet.balances[symbol];\r\n        const price = cryptoPrices[symbol] || 0; // Koristi simuliranu cenu\r\n        return sum + (balance * price);\r\n    }, 0);\r\n\r\n    return (\r\n        <div className=\"bg-white p-6 rounded-lg shadow-xl mb-6\">\r\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">Pregled Novčanika</h2>\r\n            <div className=\"mb-4\">\r\n                <p className=\"text-gray-600\">Ukupna vrednost:</p>\r\n                <p className=\"text-4xl font-extrabold text-green-700\">\r\n                    ${totalValueUSD.toFixed(2)}\r\n                </p>\r\n            </div>\r\n            <h3 className=\"text-xl font-semibold mb-3\">Stanje po Kriptovalutama:</h3>\r\n            <ul className=\"space-y-2\">\r\n                {Object.keys(wallet.balances).length > 0 ? (\r\n                    Object.keys(wallet.balances).map(symbol => {\r\n                        const balance = wallet.balances[symbol];\r\n                        const price = cryptoPrices[symbol] || 0;\r\n                        const value = balance * price;\r\n                        return (\r\n                            <li key={symbol} className=\"flex justify-between items-center p-2 border-b border-gray-100 last:border-b-0\">\r\n                                <span className=\"font-medium text-gray-700\">{symbol}: <span className=\"text-blue-600\">{balance.toFixed(4)}</span></span>\r\n                                <span className=\"text-gray-500\">\r\n                                    (${price.toFixed(2)}/jedinica) <span className=\"font-semibold text-gray-800\">${value.toFixed(2)}</span>\r\n                                </span>\r\n                            </li>\r\n                        );\r\n                    })\r\n                ) : (\r\n                    <p className=\"text-gray-600\">Vaš novčanik je prazan.</p>\r\n                )}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default WalletOverview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}